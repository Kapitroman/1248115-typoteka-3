extends layout.pug

block content

  - let count = 1

  main.main-page.main-page--padding
    section.main-page__category.category
      h1.category__title Категории
      .category__add-form
        form(action='#' method='POST')
          input#add-form-add-category(type='text' name='add-category' placeholder='Новая категория')
          label(for='add-form-add-category')
            span.visually-hidden Добавить категорию
          button.category__button.button.button--category(type='submit') Добавить
      ul.category__list
        each category, index in categories
          if (index === categories.length - 1)
            li.category__list-item.category__list-item--last
              form(action='#' method='POST')
                input(id=`modify-form-category-${count}` type='text' name=`category-${count}` value= category.name)
                label(for=`modify-form-category-${count}`)
                - count++
                  span.visually-hidden Редактировать категорию
                button.category__button.button.button--category(type='submit') Сохранить
                button.category__button.button.button--category(type='button') Удалить
          else
            li.category__list-item
              form(action='#' method='POST')
                input(id=`modify-form-category-${count}` type='text' name=`category-${count}` value= category.name)
                label(for=`modify-form-category-${count}`)
                - count++
                  span.visually-hidden Редактировать категорию
                button.category__button.button.button--category(type='submit') Сохранить
                button.category__button.button.button--category(type='button') Удалить
